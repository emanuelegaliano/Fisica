\documentclass[a4paper,11pt]{book}

% =====================================================
% LANGUAGE AND ENCODING
% =====================================================
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[italian]{babel}

% =====================================================
% TYPOGRAPHY
% =====================================================
\usepackage{libertinus}                 % main serif font + math
\usepackage[scale=0.95]{sourcesanspro}  % sans-serif for metadata

\usepackage{microtype}
\usepackage{xcolor}

% =====================================================
% BIBLIOGRAPHY
% =====================================================
\usepackage{biblatex}
\addbibresource{references.bib}

% =====================================================
% COLOR PALETTE
% =====================================================
\definecolor{Accent}{HTML}{0B3A3E}
\definecolor{TextGray}{gray}{0.25}
\definecolor{RuleGray}{gray}{0.75}

% =====================================================
% GRAPHICS + COVER PATTERN
% =====================================================
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{calc,positioning}

% Helper: pattern leggero in copertina
\newcommand{\DataPattern}{
  \begin{tikzpicture}[remember picture,overlay]
    \foreach \x in {0.12,0.22,...,0.88} {
      \foreach \y in {0.10,0.20,...,0.90} {
        \fill[Accent!7] ($(current page.south west) + (\x\paperwidth,\y\paperheight)$)
          circle[radius=0.55pt];
      }
    }
    \draw[Accent!10,line width=0.6pt]
      ($(current page.south west)+(0.06\paperwidth,0.30\paperheight)$)
      .. controls ($(current page.south west)+(0.35\paperwidth,0.55\paperheight)$)
      and ($(current page.south west)+(0.55\paperwidth,0.20\paperheight)$)
      .. ($(current page.south west)+(0.92\paperwidth,0.48\paperheight)$);

    \draw[Accent!10,line width=0.6pt]
      ($(current page.south west)+(0.08\paperwidth,0.78\paperheight)$)
      .. controls ($(current page.south west)+(0.35\paperwidth,0.62\paperheight)$)
      and ($(current page.south west)+(0.62\paperwidth,0.90\paperheight)$)
      .. ($(current page.south west)+(0.92\paperwidth,0.74\paperheight)$);
  \end{tikzpicture}
}

% =====================================================
% PAGE LAYOUT
% =====================================================
\usepackage{geometry}
\geometry{a4paper, top=28mm, bottom=30mm, left=30mm, right=30mm}

\usepackage{setspace}
\setstretch{1.12}

\clubpenalty=10000
\widowpenalty=10000

\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{2}

% =====================================================
% HEADERS AND FOOTERS
% =====================================================
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[LO]{\nouppercase{\rightmark}}
\fancyhead[RE]{\nouppercase{\leftmark}}
\setlength{\headheight}{15pt}
\renewcommand{\headrulewidth}{0.4pt}

% =====================================================
% HYPERLINKS
% =====================================================
\usepackage{xurl}
\usepackage[hidelinks]{hyperref}

% =====================================================
% TABLES
% =====================================================
\usepackage{booktabs}

% =====================================================
% MATHEMATICS
% =====================================================
\usepackage{amsmath,amssymb,amsthm}
\numberwithin{equation}{chapter}

% =====================================================
% LISTS
% =====================================================
\usepackage{enumitem}
\setlist[itemize]{topsep=4pt, itemsep=3pt}
\setlist[enumerate]{topsep=4pt, itemsep=3pt}
\setlist[description]{font=\normalfont\bfseries, labelsep=0.6em, leftmargin=2em}

% =====================================================
% DOCUMENT METADATA
% =====================================================
\newcommand{\BookTitle}{Fisica}
\newcommand{\BookSubtitle}{Note di corso}
\newcommand{\BookAuthor}{%
Emanuele Galiano\\
Andrea Leone\\
Sofia Lo Vecchio%
}
\newcommand{\BookUni}{Universit√† degli Studi di Catania}
\newcommand{\BookDept}{Dipartimento di Matematica e Informatica}
\newcommand{\BookAY}{Anno Accademico 2025/2026}
\newcommand{\BookLogoPath}{images/unict_logo.jpg}

\begin{document}

\frontmatter

% =====================================================
% TITLE PAGE
% =====================================================
\begin{titlepage}
\thispagestyle{empty}
\DataPattern

\begin{center}
\vspace*{18mm}

{\fontsize{28}{34}\selectfont\bfseries\color{Accent} \BookTitle\par}

\vspace{7mm}
{\color{Accent}\rule{0.66\textwidth}{1.1pt}}

\vspace{10mm}
{\Large\sffamily\color{TextGray}\BookSubtitle\par}

\vspace{20mm}
\includegraphics[height=14mm]{\BookLogoPath}

\vspace{12mm}
{\sffamily\color{TextGray}
\BookUni\\[1mm]
\BookDept\\[1mm]
Corso di Laurea triennale in Informatica (L-31)
\par}

\vfill

\begin{minipage}{0.92\textwidth}
\sffamily\small\color{TextGray}
\begin{flushleft}
\textbf{\color{Accent}Autori}\hfill \textbf{\color{Accent}Anno accademico}\\
\BookAuthor \hfill \BookAY
\end{flushleft}

\vspace{4mm}
{\color{RuleGray}\rule{\textwidth}{0.4pt}}

\vspace{4mm}
\begin{flushleft}
\footnotesize
Versione: \today
\end{flushleft}
\end{minipage}

\vspace*{6mm}
\end{center}
\end{titlepage}

% =====================================================
% FRONT MATTER
% =====================================================
\input{frontmatter/prefazione}
\input{frontmatter/CC_BY-SA}

% =====================================================
% TABLE OF CONTENTS
% =====================================================
\tableofcontents
\cleardoublepage

% =====================================================
% MAIN CONTENT
% =====================================================
\mainmatter
\input{chapters/cinematica}
\input{chapters/dinamica}
\input{chapters/termodinamica}
\input{chapters/onde}
\input{chapters/meccanica_quantistica}

% =====================================================
% BACK MATTER
% =====================================================
\backmatter

\printbibliography

\end{document}